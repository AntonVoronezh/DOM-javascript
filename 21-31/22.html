<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <style>
        body {
            padding-left: 30px;
        }
    </style>
    <title>#1 AntonVoronezh учеба по JavaScript DOM </title>
</head>

<body>
    <h1>#1 AntonVoronezh учеба по JavaScript DOM</h1>
    <h2>Повторите страницы по образцу</h2>
    <h3>Задача 1. Создайте отсчет от 0 до бесконечности</h3>
    <p class="elem-1"></p>
    <button class="button-1">start</button>
    <script>
        const getElemP = document.querySelector('.elem-1');
        const getElemButton = document.querySelector('.button-1');

        let id1;

        getElemButton.addEventListener('click', () => {
            id1 = window.setInterval(() => {
                getElemP.innerHTML = Number(getElemP.innerHTML) + 1;
            }, 1000);
        });

    </script>
    <hr>

    <h3>Задача 2. Создайте отсчет с кнопкой остановки</h3>
    <p class="elem-2"></p>
    <button class="button-start-2">start</button>
    <button class="button-stop-2" disabled>stop</button>
    <script>
        const getElemP2 = document.querySelector('.elem-2');
        const getElemButtonStart = document.querySelector('.button-start-2');
        const getElemButtonStop = document.querySelector('.button-stop-2');

        let id2;

        getElemButtonStart.addEventListener('click', () => {
            id2 = window.setInterval(() => {
                getElemP2.innerHTML = Number(getElemP2.innerHTML) + 1;
            }, 1000);
            getElemButtonStart.disabled = true;
            getElemButtonStop.disabled = false;
        });

        getElemButtonStop.addEventListener('click', () => {
            window.clearInterval(id2);
            getElemButtonStart.disabled = false;
            getElemButtonStop.disabled = true;
        });

    </script>
    <hr>

    <h3>Задача 3. Создайте тикающие часики</h3>
    <span class="span3"></span>
    <script>
        const getSpan3 = document.querySelector('.span3');

        const addZero = argNum => {
            if (argNum <= 9) {
                argNum = '0' + argNum;
            }
            return argNum;
        }

        window.setInterval(() => {
            const date = new Date();
            getSpan3.innerHTML = `${date.getHours()}:${addZero(date.getMinutes())}:${addZero(date.getSeconds())}`;
        }, 1000);
    </script>
    <hr>

    <h3>Задача 4. Создайте таймер обратного отсчета</h3>
    <div class="task4">
        <span class="span4"></span>
        <button class="button-4">start</button>
    </div>
    <script>
        const getButton4 = document.querySelector('.button-4');
        const getDiv4 = document.querySelector('.task4');

        getButton4.addEventListener('click', timer);

        function timer() {
            const getSpan4 = document.querySelector('.span4');
            if (getSpan4.innerHTML === '') {
                getSpan4.innerHTML = 11;
            }
            if (Number(getSpan4.innerHTML) > 0) {
                getSpan4.innerHTML = Number(getSpan4.innerHTML) - 1;
            }
            if (Number(getSpan4.innerHTML) === 0) {
                getButton4.outerHTML = 'Обратный отсчет завершен.';
            }

            window.setTimeout(timer, 500);
        }
    </script>
    <hr>

    <h3>Задача 5. Создайте простой слайдер</h3>
    <img src="" class="img-5">
    <script>
        const getImg5 = document.querySelector('.img-5');
        let imgCount = 1;

        window.setInterval(() => {
            getImg5.src = 'http://code.mu/exercises/javascript/dom/rabota-s-tajmerami-v-javascript/smiles/' + imgCount + '.png'
            imgCount += 1;
            if (imgCount === 6) {
                imgCount = 1;
            }
        }, 1000);
    </script>
    <hr>

    <h3>Задача 6. Карусель по баттону</h3>
    <img src="" class="img-6-1">
    <img src="" class="img-6-2">
    <img src="" class="img-6-3">
    <button class="button-6">start</button>

    <script>
        const getButton6 = document.querySelector('.button-6');
        const getImg61 = document.querySelector('.img-6-1');
        const getImg62 = document.querySelector('.img-6-2');
        const getImg63 = document.querySelector('.img-6-3');

        const arrCarouselImg = [
            'http://code.mu/exercises/javascript/dom/rabota-s-tajmerami-v-javascript/smiles/1.png',
            'http://code.mu/exercises/javascript/dom/rabota-s-tajmerami-v-javascript/smiles/2.png',
            'http://code.mu/exercises/javascript/dom/rabota-s-tajmerami-v-javascript/smiles/3.png'
        ];

        const startCarousel = () => {
            getButton6.disabled = true;

            window.setInterval(() => {
                arrCarouselImg.push(arrCarouselImg.shift());

                getImg61.src = arrCarouselImg[0];
                getImg62.src = arrCarouselImg[1];
                getImg63.src = arrCarouselImg[2];
            }, 1000);

        }

        getButton6.addEventListener('click', startCarousel);

    </script>
    <hr>

    <h3>Задача 7. Карусель по баттону и остановка по баттону</h3>

    <img src="" class="img-7-1">
    <img src="" class="img-7-2">
    <img src="" class="img-7-3">
    <button class="button-7-1">start</button>
    <button class="button-7-2">end</button>
    <script>
        const getButton7Start = document.querySelector('.button-7-1');
        const getButton7End = document.querySelector('.button-7-2');
        const getImg71 = document.querySelector('.img-7-1');
        const getImg72 = document.querySelector('.img-7-2');
        const getImg73 = document.querySelector('.img-7-3');

        let imgCount7 = 1;
        let id7;

        function start7() {
            id7 = window.setInterval(() => {
                getImg71.src = 'http://code.mu/exercises/javascript/dom/rabota-s-tajmerami-v-javascript/smiles/' + imgCount7 + '.png';
                getImg72.src = 'http://code.mu/exercises/javascript/dom/rabota-s-tajmerami-v-javascript/smiles/' + (imgCount7 + 1) + '.png';
                getImg73.src = 'http://code.mu/exercises/javascript/dom/rabota-s-tajmerami-v-javascript/smiles/' + (imgCount7 + 2) + '.png';
                imgCount7 += 1;
                if (imgCount7 === 4) {
                    imgCount7 = 1;
                }
            }, 1000);
        };

        function end7() {
            window.clearInterval(id7);
        };

        getButton7Start.addEventListener('click', start7);
        getButton7End.addEventListener('click', end7);
    </script>
    <hr>

    <h3>Задача 8. Создайте отсчет до полуночи</h3>
    <p>До полуночи осталось:</p>
    <br>
    <span class="span8"></span>
    <script>
        const getSpan8 = document.querySelector('.span8');

        const addZero2 = argNum => {
            if (argNum <= 9) {
                argNum = '0' + argNum;
            }
            return argNum;
        }

        window.setInterval(() => {
            const date8 = new Date();

            const dateFor8 = new Date(
                date8.getFullYear(),
                date8.getMonth(),
                date8.getDate() + 1,
                0, 0, 0
            )

            let diff = Math.ceil((Date.parse(dateFor8) - date8.getTime()) / 1000);
            let minutes = diff / 60;
            let hours = minutes / 60;
            let hoursOut = Math.floor(hours);
            let minutesOut = Math.floor(minutes - (Math.floor(hours) * 60));
            let secondsOut = diff % 60;

            getSpan8.innerHTML = `${hoursOut}:${addZero2(minutesOut)}:${addZero2(secondsOut)}`;
        }, 1000);
    </script>


</body>

</html>